@model TheCodingVine.UI.ViewModels.UsersViewModel

@{
    ViewBag.Title = "All Users";
}

<br />
<h2 class="text-center">All Users</h2>

@foreach (var userToDisplay in Model.UserList)
{
    <div class="row ">
        <div class="container-fluid col-md-offset-1 col-md-10 table-bordered">
            <br />
            <form>
                <div class="form-row">
                    <div class="col-md-4">
                        <h3>@userToDisplay.UserName</h3>
                    </div>
                    <div class="col-md-4">
                        <h3>
                        @foreach(var role in userToDisplay.Roles)
                        {
                            <b>(@role.RoleId)</b>
                        }
                        </h3>
                    </div>
                    @if(userToDisplay.UserName != User.Identity.Name)
                    {
                        <div class="col-md-2">
                            <h3 class="text-center"> @Html.ActionLink("Edit", "EditUser", "Account", new { id = userToDisplay.Id }, new { @class = "btn btn-outline-warning" })</h3>
                        </div>
                        <div class="col-md-2">
                            <h3 class="text-center"> @Html.ActionLink("Delete", "DeleteABlogger", "Blog", new { username = userToDisplay.UserName }, new { @class = "btn btn-outline-danger" })</h3>
                        </div>
                    }
                    else
                    {
                        <div class="col-md-4">
                            <p>No Actions Possible for @userToDisplay.UserName</p>
                        </div>
                    }
                </div>
            </form>
        </div>
    </div>
    <br />

}
